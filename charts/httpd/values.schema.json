{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "affinity": {
      "additionalProperties": false,
      "description": "Affinity definition",
      "required": [],
      "title": "affinity"
    },
    "certManager": {
      "additionalProperties": false,
      "description": "Cert Manager config if used",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enabling cert-manager Certs creation",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "issuerRef": {
          "additionalProperties": false,
          "description": "Issuer Reference",
          "properties": {
            "kind": {
              "default": "ClusterIssuer",
              "description": "Kind of Issuer",
              "enum": [
                "Issuer",
                "ClusterIssuer"
              ],
              "required": [],
              "title": "kind"
            },
            "name": {
              "default": "lab-ca-issuer",
              "description": "IssuerName",
              "required": [],
              "title": "name",
              "type": "string"
            }
          },
          "required": [
            "name"
          ],
          "title": "issuerRef",
          "type": "object"
        }
      },
      "required": [
        "enabled",
        "issuerRef"
      ],
      "title": "certManager",
      "type": "object"
    },
    "domain": {
      "default": "apps.ocp.sa-iberia.lab.eng.brq2.redhat.com",
      "description": "default domain for ingress controller",
      "required": [],
      "title": "domain",
      "type": "string"
    },
    "fullnameOverride": {
      "additionalProperties": false,
      "description": "The complete prefix for all the objects generated by the chart (optional)",
      "required": [],
      "title": "fullnameOverride"
    },
    "git": {
      "additionalProperties": false,
      "description": "Repo with the content to serve",
      "properties": {
        "branch": {
          "default": "master",
          "description": "Git branch with content",
          "required": [],
          "title": "branch",
          "type": "string"
        },
        "url": {
          "default": "https://github.com/sclorg/httpd-ex.git",
          "description": "Git URL with content",
          "required": [],
          "title": "url",
          "type": "string"
        }
      },
      "required": [
        "url",
        "branch"
      ],
      "title": "git",
      "type": "object"
    },
    "global": {
      "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
      "required": [],
      "title": "global",
      "type": "object"
    },
    "image": {
      "additionalProperties": false,
      "properties": {
        "repository": {
          "default": "quay.io/rgordill/httpd-micro",
          "description": "Repository for Apache http server",
          "required": [],
          "title": "repository",
          "type": "string"
        },
        "tag": {
          "default": "2.24-1",
          "description": "Tag for Apache http server",
          "required": [],
          "title": "tag",
          "type": "string"
        }
      },
      "required": [
        "repository",
        "tag"
      ],
      "title": "image",
      "type": "object"
    },
    "ingress": {
      "additionalProperties": false,
      "description": "Ingress to expose the server",
      "properties": {
        "classname": {
          "default": "nginx",
          "description": "Class of the ingress controller. Currently, only nginx is supported",
          "required": [],
          "title": "classname",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Expose http outside the cluster",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "host": {
          "default": "",
          "description": "If custom host is used: mandatory for non openshift deployments",
          "required": [],
          "title": "host",
          "type": "string"
        }
      },
      "required": [
        "enabled",
        "classname",
        "host"
      ],
      "title": "ingress",
      "type": "object"
    },
    "logging": {
      "default": "json",
      "description": "Logging format",
      "enum": [
        "json",
        "combined"
      ],
      "required": [],
      "title": "logging"
    },
    "monitor": {
      "additionalProperties": false,
      "description": "Monitoring configuration for prometheus",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Monitoring enabled",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "image": {
          "additionalProperties": false,
          "description": "Image config",
          "properties": {
            "repository": {
              "default": "quay.io/lusitaniae/apache-exporter",
              "description": "Monitoring image",
              "required": [],
              "title": "repository",
              "type": "string"
            },
            "tag": {
              "default": "latest",
              "description": "Monitoring tag",
              "required": [],
              "title": "tag",
              "type": "string"
            }
          },
          "required": [
            "repository",
            "tag"
          ],
          "title": "image",
          "type": "object"
        }
      },
      "required": [
        "enabled",
        "image"
      ],
      "title": "monitor",
      "type": "object"
    },
    "openshift": {
      "default": true,
      "description": "Deployed on Openshift?",
      "required": [],
      "title": "openshift",
      "type": "boolean"
    },
    "replicas": {
      "default": 1,
      "description": "Number of replicas",
      "required": [],
      "title": "replicas",
      "type": "integer"
    },
    "resources": {
      "additionalProperties": false,
      "description": "CPU and memory resources for the pod",
      "properties": {
        "limits": {
          "additionalProperties": false,
          "description": "Limits",
          "properties": {
            "cpu": {
              "default": 1,
              "description": "CPU limits",
              "required": [],
              "title": "cpu",
              "type": "integer"
            },
            "memory": {
              "default": "512Mi",
              "description": "Memory limits",
              "required": [],
              "title": "memory",
              "type": "string"
            }
          },
          "required": [
            "cpu",
            "memory"
          ],
          "title": "limits",
          "type": "object"
        },
        "requests": {
          "additionalProperties": false,
          "description": "Requests",
          "properties": {
            "cpu": {
              "default": 1,
              "description": "CPU requests",
              "required": [],
              "title": "cpu",
              "type": "integer"
            },
            "memory": {
              "default": "512Mi",
              "description": "Memory requests",
              "required": [],
              "title": "memory",
              "type": "string"
            }
          },
          "required": [
            "cpu",
            "memory"
          ],
          "title": "requests",
          "type": "object"
        }
      },
      "required": [
        "requests",
        "limits"
      ],
      "title": "resources",
      "type": "object"
    },
    "service": {
      "additionalProperties": false,
      "description": "Internal Service that exposes the server",
      "properties": {
        "port": {
          "default": 443,
          "description": "Service port number to expose httpd internally",
          "required": [],
          "title": "port",
          "type": "integer"
        }
      },
      "required": [
        "port"
      ],
      "title": "service",
      "type": "object"
    },
    "storage": {
      "additionalProperties": false,
      "description": "Storage",
      "properties": {
        "size": {
          "default": "1Gi",
          "description": "Volume Size",
          "required": [],
          "title": "size",
          "type": "string"
        },
        "storageClass": {
          "default": "ocs-storagecluster-cephfs",
          "description": "The RWX-capable StorageClass to provision the volume.",
          "required": [],
          "title": "storageClass",
          "type": "string"
        }
      },
      "required": [
        "size",
        "storageClass"
      ],
      "title": "storage",
      "type": "object"
    }
  },
  "required": [
    "openshift",
    "image",
    "storage",
    "service",
    "domain",
    "resources",
    "replicas",
    "ingress",
    "git",
    "monitor",
    "certManager"
  ],
  "type": "object"
}